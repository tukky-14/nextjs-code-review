# コードレビューアプリ

このリポジトリでは、Next.js、TypeScript、TailwindCSSを使用して構築されたコードレビューアプリを紹介します。このアプリでは、ユーザーがファイルをアップロードし、アップロードされたファイルのコードをGeminiのAPIを通じてレビューすることができます。

## 使用技術

-   **Next.js**: モダンなReactフレームワークを使ってサーバーサイドレンダリングや静的サイト生成を行います。
-   **TypeScript**: 型安全なJavaScriptでより信頼性の高いコードを記述します。
-   **TailwindCSS**: ユーティリティファーストのCSSフレームワークで、スタイルを効率的に適用します。
-   **react-dropzone**: ファイルのドラッグアンドドロップアップロードの機能を提供します。

## 機能

-   ユーザーがファイルをアップロードできる
-   アップロードしたファイルのリストをサイドバーに表示
-   サイドバーからアップロードしたファイルを削除可能
-   アップロードしたファイルの内容をGemini APIに送信し、コードレビューの結果を取得
-   取得したレビュー結果をメイン画面に表示
-   レビュー結果をクリアするボタンの提供
-   レビュー中はローディング表示で画面操作を制限

## セットアップ方法

1. このリポジトリをクローンします。

    ```bash
    git clone https://github.com/your-username/code-review-app.git
    cd code-review-app
    ```

2. 必要なパッケージをインストールします。

    ```bash
    npm install
    ```

3. TailwindCSSの設定を行います。
   TailwindCSSの基本的な設定は`tailwind.config.js`に既に含まれています。
   グローバルスタイルを`./styles/globals.css`で定義しています。

4. 環境変数を設定します。
   ルートディレクトリに `.env.local` ファイルを作成し、Gemini APIキーなどを設定します。

    ```env
    GEMINI_API_KEY=your_gemini_api_key_here
    ```

5. アプリケーションをローカルで起動します。
    ```bash
    npm run dev
    ```
    ブラウザで [http://localhost:3000](http://localhost:3000) にアクセスして動作を確認します。

## ファイル構成

-   `components/header.tsx` - ヘッダー部分のコンポーネント
-   `components/footer.tsx` - フッター部分のコンポーネント
-   `components/sidebar.tsx` - アップロードされたファイルのリストを表示するサイドバー
-   `components/main.tsx` - ファイルアップロード、コードレビュー、レビュー結果表示のメインコンポーネント
-   `app/api/gemini-review/route.ts` - Gemini APIと連携するAPIエンドポイント

## 使用方法

1. **ファイルアップロード**

    - メイン画面のエリアにファイルをドラッグ＆ドロップ、もしくは「ファイルを選択」ボタンをクリックしてファイルを選択します。

2. **コードレビューの実行**

    - 「レビュー」ボタンを押すことで、アップロードされたファイルの内容をGemini APIに送信し、レビューを受け取ることができます。
    - レビューの処理中は「Loading...」と表示され、画面操作が制限されます。

3. **レビュー結果の表示とクリア**
    - 取得したレビュー結果はメイン画面に表示されます。
    - 「Clear Review」ボタンでレビュー結果をクリアすることができます。

## スタイリングとレスポンシブ対応

TailwindCSSを使用して、すべての要素をスタイリングしています。

-   `flex` や `grid` を利用して、レイアウトが柔軟に調整されます。
-   レスポンシブ対応により、異なるデバイスサイズでも快適に使用可能です。

## API ルート

アプリケーションには、コードレビューを行うためのAPIルートが含まれています。

-   `app/api/gemini-review/route.ts` - このルートでは、アップロードされたファイル内容をGemini APIに送信し、レビュー結果を取得してクライアントに返します。
-   環境変数からGemini APIのキーを取得し、セキュアな通信を行います。

## 注意事項

-   **APIキーの取り扱い**: `.env.local` ファイルで設定するAPIキーは機密情報です。公開リポジトリにプッシュしないようにしてください。
-   **セキュリティ**: このアプリは教育的な目的で構築されているため、商用利用する際はセキュリティ対策を十分に行ってください。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能の提案がありましたら、IssueやPull Requestを通じてご連絡ください。

---

### アプリの設定

<details>
<summary>クリックして展開</summary>

```bash
# アプリの作成
npx create-next-app@14 nextjs-code-review

# パッケージのインストール
npm i react-dropzone
@google/generative-ai
```

</details>

### プロンプト

<details>
<summary>クリックして展開</summary>

```
あなたはプロのフロントエンドエンジニアです。
Next.jsとTypeScriptとTailwindCSSを使用して、コードレビューアプリを作成したいです。
以下は、コードレビューアプリの仕様です。
ステップバイステップで実装してください。

# 仕様
- ユーザーは、ファイルをアップロードできる
- ユーザーは、アップロードしたファイルを削除できる
- ユーザーはw、アップロードしたファイルをサイドバーで確認できる

# 要件
- Next.jsとTailwindCSSを使用する
- ファイルのアップロードは、[react-dropzone](https://react-dropzone.js.org/)を使用する
- アップロードされたファイルの情報は、サイドバーに表示する
- サイドバーには、アップロードされたファイルの名前と削除ボタンを表示する
- サイドバーの削除ボタンをクリックすると、アップロードされたファイルが削除される
- メインにはGeminiのAPIで帰ってきたマークダウンのコードレビュー結果を表示する

# レイアウト
- レイアウトは、[TailwindCSS](https://tailwindcss.com/)を使用して作成する
- ヘッダー、サイドバー、メイン、フッターの4つのコンポーネントに分割する
- レスポンシブ対応する
```

</details>
